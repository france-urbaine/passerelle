@layer components {
  /* Default style */
  .timeline {
    display: flex;
    flex-direction: column;

    @apply gap-6;
  }

  .timeline-step {
    display: flex;
    @apply gap-4;
  }

  .timeline-step__marker {
    display:         flex;
    flex-direction:  column;
    justify-content: center;
    align-items:     center;

    @apply min-w-6 gap-2;

    & svg {
      display:    block;
      flex:       none;

      @apply size-6 p-1;
      @apply rounded-full;
    }

    &:not(:has(svg)):before {
      content:    "";
      display:    block;
      flex:       none;

      @apply size-6 border-4 rounded-full;
    }

    &:after {
      content:    "";
      display:    block;
      flex:       1;

      @apply size-0 border-2 rounded-full;
    }

    & svg,
    &:not(:has(svg)):before,
    &:after {
      @apply text-white bg-gray-400 border-gray-300;
      @apply dark:border-gray-600;
    }
  }

  .timeline-step__content {
    display:        flex;
    flex-direction: column;

    @apply gap-2 pb-1;
  }

  .timeline-step__date {
    @apply text-base leading-6;

    @apply text-gray-600;
    @apply dark:text-gray-400;
  }

  .timeline-step__title {
    @apply text-lg font-medium leading-6;

    @apply text-gray-900;
    @apply dark:text-gray-100;
  }

  .timeline-step__description {
    @apply text-base;
  }

  /* Done variations */
  .timeline-step--done {
    & .timeline-step__marker svg,
    & .timeline-step__marker:before,
    & .timeline-step__marker:after {
      @apply bg-green-400 border-green-200;
      @apply dark:border-lime-800;
    }
  }

  /* Stopped variations */
  .timeline-step--failed {
    & .timeline-step__marker svg,
    & .timeline-step__marker:before,
    & .timeline-step__marker:after {
      @apply bg-red-400 border-red-200;
      @apply dark:border-red-800;
    }
  }

  /* In progress variations */
  .timeline-step--current {
    & .timeline-step__marker svg,
    & .timeline-step__marker:before,
    & .timeline-step__marker:after {
      @apply bg-violet-400 border-violet-200;
      @apply dark:border-violet-800;
    }
  }

  @media (width >= 48rem) {
    .timeline--horizontal {
      &,
      & .timeline-step__marker {
        flex-direction: row;
      }

      & .timeline-step {
        flex-direction: column;

        @apply flex-1;
      }
    }
  }
}

