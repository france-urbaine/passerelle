@layer components {
  .sidebar {
    display: flex;
    flex: none;
    flex-direction: column;
    overflow-x: hidden;
    overflow-y: auto;
    height: 100vh;

    @apply w-60;
    @apply bg-white shadow;
    @apply dark:bg-black dark:shadow-gray-700;
  }

  .sidebar__brand  {
    @apply p-4 text-3xl;
  }

  .sidebar__header {
    @apply px-4 py-2 mt-4 text-xl;
  }

  .sidebar__links {
    @apply p-1 border-t;

    @apply border-gray-300;
    @apply dark:border-gray-700;

    & a {
      display: block;
      position: relative;
      overflow: hidden;
      text-decoration: none;

      @apply w-full py-2 px-3 mb-1;
      @apply text-base font-normal cursor-pointer;
      @apply border rounded;
      @apply bg-white text-gray-900 border-white;
      @apply dark:bg-black dark:text-gray-100 dark:border-black;

      &.sidebar__link--current {
        @apply bg-gray-200 border-gray-200;
        @apply dark:bg-gray-800 dark:border-gray-800;
      }

      &.sidebar__link--disabled {
        @apply text-gray-400;
      }

      &:not(.sidebar__link--disabled) {
        &, &:is(:hover, :active, :focus, :focus-visible) {
          outline-style: solid;
          outline-width: 0px;

          /* Overwrite links styles */
          @apply text-gray-900;
          @apply dark:text-gray-100;
        }

        &:is(:focus-visible) {
          outline-width: 2px;
          outline-offset: 0px;

          @apply outline-blue-500;
          @apply dark:outline-sky-500;
        }

        &:hover {
          @apply text-blue-500 border-blue-500;
          @apply dark:text-sky-500 dark:border-sky-500;
        }

        &:active {
          @apply text-blue-700 border-blue-700 outline-blue-700;
          @apply dark:text-sky-300 dark:border-sky-300 dark:outline-blue-300;
        }
      }
    }
  }

  .sidebar__user,
  .sidebar__user[type="submit"],
  .sidebar__links .sidebar__user {
    display: flex;
    align-items: center;
    text-align: left;
    appearance: none;
    height: auto;
    white-space: initial;
    border-radius: 0;
    border: 0;
    width: 100%;

    @apply p-3 m-0;

    &, &:is(:hover, :active, :focus, :focus-visible) {
      outline-offset: 0px;
    }
  }

  .sidebar__user-text {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }

  .sidebar__user-avatar {
    overflow: hidden;
    flex: none;

    @apply h-8 w-8 mr-4 rounded-full;

    & svg {
      @apply h-8 w-8 m-0;
      @apply bg-gray-100 text-gray-300;
      @apply dark:bg-gray-800 dark:text-gray-600;
    }
  }

  .sidebar__user-name {
    overflow: hidden;
    flex: 1 1 auto;
  }
}