= template_frame_component do |frame|
  - frame.with_modal do |dialog|
    = form_with(url: ddfips_path, method: :delete) do |form|
      - count = @ddfips.count

      .dialog__header
        h1#dialog-title.dialog__title
          - if count > 1
            | Suppression des DDFIP sélectionnées
          - else
            | Suppression de la DDFIP sélectionnée

      .dialog__content
        = hidden_param_input(:ids)
        = hidden_param_input(:search)
        = hidden_param_input(:order)
        = hidden_param_input(:page)

        - if count > 1
          p
            | Êtes-vous sûrs de vouloir supprimer les <b>#{count}</b> DDFIP sélectionnées ?
            br
            | Les comptes seront archivés pendant 30 jours avant d'être définitivement supprimés.
        - else
          p
            | Êtes-vous sûrs de vouloir supprimer la DDFIP sélectionnée ?
            br
            | Le compte sera archivé pendant 30 jours avant d'être définitivement supprimé.

      .dialog__actions
        button.button.button--primary( type="submit" autofocus ) Continuer
        = dialog.cancel_button "Annuler", href: @return_location
